(this.webpackJsonpmovie=this.webpackJsonpmovie||[]).push([[0],{10:function(e,t,a){e.exports={mainHeader:"header_mainHeader__3Ujuo",headerLogo:"header_headerLogo__Np3mu",logoAnim:"header_logoAnim__1vSdL",headerLink:"header_headerLink__e8Ced"}},11:function(e,t,a){e.exports={timerContainer:"timer_timerContainer__3Hbpi",timerTitle:"timer_timerTitle__2yHSl",timerCount:"timer_timerCount__OQQxy"}},2:function(e,t,a){e.exports={cart:"cart_cart__2O9fQ",cartBack:"cart_cartBack__3a5JL",cartList:"cart_cartList__16UEo",cartHeader:"cart_cartHeader__iOJt5",cartFooter:"cart_cartFooter__2Kn67",cartContent:"cart_cartContent__1gRsP",cartClose:"cart_cartClose__2kpky",cartItem:"cart_cartItem__3lD2T",cartItemHeader:"cart_cartItemHeader__1BAg0",cartPic:"cart_cartPic__3T3PJ",cartImg:"cart_cartImg__3cHcp",cartItemFooter:"cart_cartItemFooter__xVKSD",cartQuantity:"cart_cartQuantity__1V9Ex",cartItemContent:"cart_cartItemContent__t1qPd"}},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var c=a(0),r=a(1),n=a.n(r),i=a(21),s=a.n(i),d=a(23),o=a(3),l=a(7),u=function(e,t){var a=t.type,c=t.payload;switch(a){case"SWITCH_LANGUAGE":return Object(o.a)(Object(o.a)({},e),{},{lang:c.lang});case"SWITCH_CART_STATUS":return Object(o.a)(Object(o.a)({},e),{},{isCartShow:c.cartStatus});case"SWITCH_LOADING_STATUS":return Object(o.a)(Object(o.a)({},e),{},{isLoading:c.loadingStatus});case"SET_GOODS":return Object(o.a)(Object(o.a)({},e),{},{featured:c.featured,daily:c.daily,featuredEndDate:c.featuredEndDate,dailyEndDate:c.dailyEndDate});case"SET_ORDER":return Object(o.a)(Object(o.a)({},e),{},{order:c.order});default:return e}},j=n.a.createContext(),m={lang:"en",featured:[],featuredEndDate:null,daily:[],dailyEndDate:null,order:[],isCartShow:!1,isLoading:!1},b=function(e){var t=e.children,a=n.a.useReducer(u,m),r=Object(l.a)(a,2),i=r[0],s=r[1];return i.switchLanguage=function(e){s({type:"SWITCH_LANGUAGE",payload:{lang:e}})},i.switchIsCartShow=function(e){s({type:"SWITCH_CART_STATUS",payload:{cartStatus:e}})},i.switchLoadingStatus=function(e){s({type:"SWITCH_LOADING_STATUS",payload:{loadingStatus:e}})},i.setGoods=function(e,t,a,c){s({type:"SET_GOODS",payload:{featured:e,daily:t,featuredEndDate:a,dailyEndDate:c}})},i.addToCart=function(e){var t=i.daily.find((function(t){return t.id===e.id}))||i.featured.find((function(t){return t.id===e.id})),a=Object(o.a)(Object(o.a)({},e),{},{quantity:1});t.isInBasket=!0,s({type:"SET_ORDER",payload:{order:[].concat(Object(d.a)(i.order),[a])}})},i.removeItem=function(e){var t=i.order.filter((function(t){return t.id!==e}));(i.featured.find((function(t){return t.id===e}))||i.daily.find((function(t){return t.id===e}))).isInBasket=!1,s({type:"SET_ORDER",payload:{order:t}})},i.cartItemQuanityChanger=function(e,t){var a=i.order.map((function(a){return a.id===e&&("plus"===t?a.quantity+=1:"minus"===t&&(a.quantity-=1)),a}));s({type:"SET_ORDER",payload:{order:a}})},i.remadeCart=function(){if(i.order.length){var e=i.order.map((function(e){var t=i.daily.find((function(t){return t.id===e.id}))||i.featured.find((function(t){return t.id===e.id}));return t.isInBasket=!0,e.name=t.name,e.description=t.description,e}));s({type:"SET_ORDER",payload:{order:e}})}},Object(c.jsx)(j.Provider,{value:i,children:t})},f=a(10),O=a.n(f),_=a.p+"static/media/store.1ee0bce9.svg",h=function(e){return Object(c.jsxs)("header",{className:O.a.mainHeader,children:[Object(c.jsx)("div",{className:O.a.headerLogo,children:Object(c.jsx)("img",{src:_,alt:"logo"})}),Object(c.jsx)("a",{className:O.a.headerLink,href:"https://github.com/C1rfa/reactShop",children:"Repo"})]})},p=a(6),x=a.n(p),g=a.p+"static/media/russia.c89ed68a.svg",C=a.p+"static/media/united-states.c29455bd.svg",v=function(e){var t=n.a.useContext(j).switchLanguage,a=function(e){t(e.target.id)};return Object(c.jsxs)("div",{className:x.a.langContainer,children:[Object(c.jsx)("div",{className:x.a.picContEn,children:Object(c.jsx)("img",{onClick:a,id:"en",src:C,alt:"Eng"})}),Object(c.jsx)("div",{className:x.a.picContRu,children:Object(c.jsx)("img",{onClick:a,id:"ru",src:g,alt:"Rus"})})]})},y=function(e){var t=n.a.useContext(j).lang;return Object(c.jsxs)("footer",{className:x.a.mainFooter,children:[Object(c.jsxs)("div",{className:x.a.footerCopyright,children:["\xa9 ",(new Date).getFullYear()," ","en"===t?"for Portfolio":"ru"===t?"\u0434\u043b\u044f \u043f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e":""]}),Object(c.jsx)(v,{})]})},N=a(22),I=a.n(N),S=function(){return Object(c.jsxs)("div",{className:"preloader-wrapper",children:[Object(c.jsx)("span",{className:"circle circle-1"}),Object(c.jsx)("span",{className:"circle circle-2"}),Object(c.jsx)("span",{className:"circle circle-3"}),Object(c.jsx)("span",{className:"circle circle-4"}),Object(c.jsx)("span",{className:"circle circle-5"}),Object(c.jsx)("span",{className:"circle circle-6"}),Object(c.jsx)("span",{className:"circle circle-7"}),Object(c.jsx)("span",{className:"circle circle-8"})]})},T=a(11),E=a.n(T),D=function(e){var t=n.a.useContext(j).lang,a=n.a.useState(new Date(e.endDate).getTime()),r=Object(l.a)(a,1)[0],i=n.a.useState((new Date).getTime()),s=Object(l.a)(i,2),d=s[0],o=s[1],u=n.a.useState(e.title),m=Object(l.a)(u,1)[0],b=n.a.useRef("00"),f=n.a.useRef("00"),O=n.a.useRef("00"),_=n.a.useRef(null),h=function(){var e=(r-d)/1e3;O.current=Math.floor(e/3600),f.current=Math.floor(e/60%60),b.current=Math.floor(e%60),O.current>=0?(O.current=O.current/10<1?"0".concat(O.current):O.current,f.current=f.current/10<1?"0".concat(f.current):f.current,b.current=b.current/10<1?"0".concat(b.current):b.current):(O.current="00",f.current="00",b.current="00",clearInterval(_.current),_.current=null)};return h(),n.a.useEffect((function(){d<r&&(_.current=setInterval((function(){o((new Date).getTime())}),1e3))}),[]),n.a.useEffect((function(){h()}),[d]),n.a.useEffect((function(){return function(){clearInterval(_.current)}}),[r]),Object(c.jsxs)("div",{className:E.a.timerContainer,children:[Object(c.jsxs)("h2",{className:E.a.timerTitle,children:[" ","en"===t?"till the end of ":"ru"===t?"\u0421\u0435\u0433\u043e\u0434\u043d\u044f\u0448\u043d\u0438\u0435 ":""," ",m]}),Object(c.jsxs)("div",{className:E.a.timerCount,children:[O.current," : ",f.current," : ",b.current]})]})},k=a(5),w=a.n(k),L=a.p+"static/media/add-to-cart.b31c153b.svg",R=a.p+"static/media/dollar.17a509fb.svg",F=function(e){var t=n.a.useContext(j),a=t.addToCart,r=t.lang;return Object(c.jsxs)("div",{className:w.a.card,children:[Object(c.jsxs)("div",{className:w.a.cardInner,children:[Object(c.jsx)("div",{className:w.a.cardFront,children:Object(c.jsx)("img",{src:e.image,alt:e.name})}),Object(c.jsxs)("div",{className:w.a.cardBack,children:[Object(c.jsx)("h5",{className:w.a.cardTitle,children:e.name}),Object(c.jsx)("p",{className:w.a.cardDescription,children:e.description})]})]}),Object(c.jsxs)("div",{className:w.a.cardFooter,children:[Object(c.jsx)("img",{src:R,alt:"price"}),Object(c.jsxs)("p",{children:[e.price," ","en"===r?"USD":"ru"===r?"\u0440\u0443\u0431\u043b\u0435\u0439":""]})]}),e.isInBasket?"en"===r?Object(c.jsx)("p",{className:w.a.inCart,children:"Already in cart"}):"ru"===r?Object(c.jsx)("p",{className:w.a.inCart,children:"\u0423\u0436\u0435 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0435"}):"":Object(c.jsxs)("button",{onClick:function(){a({id:e.id,name:e.name,description:e.description,price:e.price,image:e.image})},className:w.a.addToCart,children:[Object(c.jsx)("img",{src:L,alt:"to Cart",className:"icon"})," ","en"===r?"Add to Cart":"ru"===r?"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443":""]})]})},H=function(e){var t=e.items.map((function(t){return Object(c.jsx)(F,Object(o.a)({setOrder:e.setOrder,lang:e.lang},t),t.id)}));return Object(c.jsx)(c.Fragment,{children:t})},A=a(2),Q=a.n(A),B=a.p+"static/media/shopping-cart.8d8292b1.svg",P=function(e){var t=n.a.useContext(j),a=t.order,r=t.isCartShow,i=t.switchIsCartShow;return Object(c.jsxs)("div",{className:Q.a.cart,onClick:function(){i(!r)},children:[Object(c.jsx)("img",{src:B,alt:"cart"}),a.length?Object(c.jsx)("span",{className:Q.a.cartQuantity,children:a.length}):""]})},U=a.p+"static/media/rubbish-bin.e3c22733.svg",G=a.p+"static/media/minus.6d2e5963.svg",q=a.p+"static/media/add.c6f2e133.svg",J=function(e){var t=n.a.useContext(j),a=t.removeItem,r=t.cartItemQuanityChanger,i=function(t){r(e.id,t.target.id)};return Object(c.jsxs)("li",{className:Q.a.cartItem,children:[Object(c.jsxs)("div",{className:Q.a.cartItemHeader,children:[Object(c.jsx)("img",{src:e.image,alt:e.name,className:Q.a.cartImg}),Object(c.jsx)("h5",{children:e.name}),Object(c.jsx)("img",{onClick:function(){a(e.id)},src:U,className:Q.a.cartPic,alt:"remove"})]}),Object(c.jsx)("div",{className:Q.a.cartItemContent,children:Object(c.jsx)("p",{children:e.description})}),Object(c.jsxs)("div",{className:Q.a.cartItemFooter,children:[Object(c.jsx)("small",{className:Q.a.cartPrice,children:e.price}),Object(c.jsxs)("div",{className:Q.a.cartQuantity,children:[Object(c.jsx)("img",{onClick:i,id:"plus",src:q,alt:"plus",className:Q.a.cartPic}),Object(c.jsx)("small",{children:e.quantity}),e.quantity>1?Object(c.jsx)("img",{onClick:i,id:"minus",src:G,alt:"minus",className:Q.a.cartPic}):""]})]})]})},W=a.p+"static/media/close.4fc975bc.svg",K=function(e){var t=n.a.useContext(j),a=t.isCartShow,r=t.order,i=t.lang,s=t.switchIsCartShow,d=r.map((function(t){return Object(c.jsx)(J,Object(o.a)({removeItem:e.removeItem,handleCartItemQuanity:e.handleCartItemQuanity},t),t.id)})),l=r.reduce((function(e,t){return e+t.price*t.quantity}),0);return Object(c.jsx)("div",{className:Q.a.cartBack,children:Object(c.jsxs)("div",{className:Q.a.cartList,children:[Object(c.jsxs)("div",{className:Q.a.cartHeader,children:[Object(c.jsx)("span",{children:"en"===i?"Cart":"ru"===i?"\u041a\u043e\u0440\u0437\u0438\u043d\u0430":""}),Object(c.jsx)("button",{className:Q.a.cartClose,onClick:function(){s(!a)},children:Object(c.jsx)("img",{src:W,alt:"close cart"})})]}),Object(c.jsx)("li",{className:Q.a.cartContent,children:d.length?d:"en"===i?Object(c.jsx)("span",{children:"Empty"}):"ru"===i?Object(c.jsx)("span",{children:"\u041f\u0443\u0441\u0442\u043e"}):""}),Object(c.jsx)("div",{className:Q.a.cartFooter,children:"en"===i?"Total: "+l:"ru"===i?"\u041e\u0431\u0449\u0430\u044f\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c: "+l:""})]})})},M=function(e){var t=n.a.useContext(j),a=t.featured,r=t.daily,i=t.featuredEndDate,s=t.dailyEndDate,d=t.isLoading,o=t.isCartShow,l=t.lang,u=t.switchLoadingStatus,m=t.setGoods,b=t.remadeCart;return n.a.useEffect((function(){u(!d),I()({url:"https://fortniteapi.io/v1/shop",method:"get",headers:{Authorization:"b07ae5cf-bb8fb047-45721c0f-a1445bf5"},params:{lang:l}}).then((function(e){return e.data})).then((function(e){m(e.featured,e.daily,e.endingDates.featured,e.endingDates.daily)})).finally((function(){u(!!d)}))}),[l]),n.a.useEffect((function(){b()}),[r,a]),Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("main",{className:"content",children:[Object(c.jsx)(P,{}),o&&Object(c.jsx)(K,{}),d?Object(c.jsx)(S,{}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(D,{endDate:i,title:"en"===l?"featured items":"ru"===l?"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b":""}),Object(c.jsx)("div",{className:"goods",children:Object(c.jsx)(H,{items:a})}),Object(c.jsx)(D,{endDate:s,title:"en"===l?"daily items":"ru"===l?"\u0415\u0436\u0435\u0434\u043d\u0435\u0432\u043d\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b":""}),Object(c.jsx)("div",{className:"goods",children:Object(c.jsx)(H,{items:r})})]})]})})},V=function(e){return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(b,{children:[Object(c.jsx)(h,{}),Object(c.jsx)(M,{}),Object(c.jsx)(y,{})]})})};a(47),a(48);s.a.render(Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(V,{})}),document.getElementById("root"))},5:function(e,t,a){e.exports={card:"card_card__3geUp",cardInner:"card_cardInner__mg59O",cardBack:"card_cardBack__2LaaQ",cardTitle:"card_cardTitle__3DbCU",cardDescription:"card_cardDescription__1jIz3",cardFront:"card_cardFront__2UOVQ",cardFooter:"card_cardFooter__5ePGg",addToCart:"card_addToCart__14KD_",inCart:"card_inCart__2Jd9O"}},6:function(e,t,a){e.exports={mainFooter:"footer_mainFooter__3jYnZ",footerCopyright:"footer_footerCopyright__2Zq_J",langContainer:"footer_langContainer__2v7W7",picContEn:"footer_picContEn__9TmHK",picContRu:"footer_picContRu__3dTkF"}}},[[49,1,2]]]);
//# sourceMappingURL=main.f87468c1.chunk.js.map